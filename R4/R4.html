<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" type="text/css" href="style.css">

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        
    </head>
    <body> 
        
        <section >            
            <iframe  src="https://www.youtube.com/embed/sBYtr8vfA2M?autoplay=1&mute=1&controls=0&amp;start=26" title="YouTube video player" frameborder="0"  allow="accelerometer;  clipboard-write; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            

            
        </section>

        <section>
        <h2>CLIMA <span>citadino</span></h2> 
        </section>

        <section>
        <div class="weatherCities" > 
            <div class="cardHeader">
                <!--<h2>Clima Citadino</h2>            -->                
            </div>
            <table id="weatherCitiesTable" class="weatherT" > 
                <thead class="fixedHeader">
                    <tr class="paddingBetweenCols">
                        <td>Ciudad</td>                                                              
                        <td>Temperatura</td>                                
                        <td>Humedad</td>
                        <td>Direcci√≥n del viento</td>                                
                        <td>Tiempo</td>
                    </tr>
                </thead>
                <tbody class="scrollContent">
                    
                </tbody>
            </table>
        </div>
    </section>
            

        
        
        
        
        <script>
            let params = new URLSearchParams({
            access_key: '450e11ffa39bd3eed315c366735e6513',
            query: 'Berlin;',
            units: 'f'
            });

            /*$(window).load(function(){
                addToTable();
            });*/
                              
            var cont = 0;                            
            function addToTable(city, temp, humidity, wind_dir, time){
            cont++;
            var fila='<tr id= "fila'+cont+'" class= "paddingBetweenCols"><td>'+city+'</td><td>'+temp+'</td><td>'+humidity+'</td><td>'+wind_dir+'</td><td>'+time+'</td></tr>';
            $('#weatherCitiesTable').append(fila);
            }

            let CityAPI = ["Berlin","New York", "Dallas"];

            let country;

            //La API Weatherstack para usuarios gratuitos no permite hacer bulks get. 
            for(let element of CityAPI)
            fetch('http://api.weatherstack.com/current?access_key=450e11ffa39bd3eed315c366735e6513&query='+element)
            .then(res => res.json()).then(function (obj) 
            {                 
                country = obj["location"]["name"]; 
                console.log(country);
                addToTable(country,8,8,9,5);           
            });            
        </script>
    </body>
</html>